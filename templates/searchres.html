<!DOCTYPE html>
<html>
  <head>
    <title>Banana Manga Reader: Search Results</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='style/navstyle2.css') }}"
    />

    <style>
      body {
        font-family: Georgia, Garamond, Serif;
        background: #f7f7f7;
        color: #000;
      }

      h3 {
        margin: 12px;
      }

      /* Grid layout */
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
        gap: 14px;
        padding: 12px;
      }

      /* Manga card */
      .manga-card {
        display: flex;
        background: #ffffff;
        border: 2px solid #ccc;
        border-radius: 14px;
        padding: 10px;
        text-decoration: none;
        color: inherit;
      }

      .manga-card:active {
        background: #eaeaea;
      }

      /* Cover image */
      .manga-cover {
        width: 120px;
        height: auto;
        border-radius: 8px;
        margin-right: 12px;
        flex-shrink: 0;
      }

      /* Info section */
      .manga-info {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .manga-title {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 6px;
        line-height: 1.2;
      }

      .manga-meta {
        font-size: 15px;
        line-height: 1.4;
      }

      .label {
        font-weight: bold;
      }

      /* Kobo-safe: no hover effects, no shadows */
    </style>
  </head>

  <body>
    <!-- Hamburger menu (unchanged) -->
    <div class="hamburger-menu">
      <input id="menu__toggle" type="checkbox" />
      <label class="menu__btn" for="menu__toggle"><span></span></label>
      <ul class="menu__box">
        <li><a class="menu__item" href="/">Home</a></li>
        <li><a class="menu__item" href="/search">Search Manga</a></li>
        <li><a class="menu__item" href="/favorites">Favorites</a></li>
        <li><a class="menu__item" href="/library">Library</a></li>
        <li><a class="menu__item" href="/nav">Navigation</a></li>
        <li><a class="menu__item" href="/about">About</a></li>
        <li><a class="menu__item" href="/shutdown">Close app</a></li>
      </ul>
    </div>

    <!-- Search -->
    <center>
      <form action="#" method="POST" id="searchForm">
        <p>Search Manga</p>
        <p><input type="text" name="srchstr" /></p>
        <p><input type="submit" value="Search" /></p>
      </form>
    </center>

    <h3>Results</h3>

    <div class="results-grid">
      {% if n_manga > 0 %} {% for key in res %}
      <a class="manga-card" href="/manga_result/choice/{{ key }}">
        {% if res[key].get('img') %}
        <img class="manga-cover" src="{{ res[key]['img'] }}" />
        {% else %}
        <div class="manga-cover">No image</div>
        {% endif %}

        <div class="manga-info">
          <div class="manga-title">{{ res[key]['title'] }}</div>

          <div class="manga-meta">
            <span class="label">Author:</span>
            {{ res[key].get('author', 'Unknown') }}<br />

            <span class="label">Latest Chapter:</span>
            {{ res[key].get('last_ch', 'â€”') }}
          </div>
        </div>
      </a>
      {% endfor %} {% endif %}
    </div>
  </body>
</html>
